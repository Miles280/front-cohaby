<div class="max-w-4xl mx-auto py-10 px-4">
  @if (profileForm) {
  <form
    [formGroup]="profileForm"
    (ngSubmit)="onSubmit()"
    class="bg-white dark:bg-gray-900 rounded-xl shadow-lg p-16 border border-gray-200 dark:border-gray-700"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Section : Infos personnelles -->
      <h3 class="text-2xl font-semibold text-primary mb-4 mt-4 col-span-2">
        Informations personnelles
      </h3>

      <!-- Prénom -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Prénom</label
        >
        <input
          type="text"
          formControlName="firstname"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Nom -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Nom</label
        >
        <input
          type="text"
          formControlName="lastname"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Pseudo -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Pseudo</label
        >
        <input
          type="text"
          formControlName="pseudo"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Genre -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Genre</label
        >
        <select
          formControlName="gender"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        >
          <option value="male">Homme</option>
          <option value="female">Femme</option>
          <option value="other">Autre</option>
        </select>
      </div>

      <!-- Date de naissance -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Date de naissance</label
        >
        <input
          type="date"
          formControlName="birthdate"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Email -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Email</label
        >
        <input
          type="email"
          formControlName="email"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Section : Adresse -->
      <h3 class="text-2xl font-semibold text-primary mb-4 mt-6 col-span-2">
        Adresse
      </h3>

      <!-- Rue -->
      <div class="md:col-span-2">
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Rue</label
        >
        <input
          type="text"
          formControlName="street"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Ville -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Ville</label
        >
        <input
          type="text"
          formControlName="city"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Code postal -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Code postal</label
        >
        <input
          type="text"
          formControlName="postalCode"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Région -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Région</label
        >
        <input
          type="text"
          formControlName="region"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>

      <!-- Pays -->
      <div>
        <label class="block text-gray-700 dark:text-gray-300 font-medium mb-1"
          >Pays</label
        >
        <input
          type="text"
          formControlName="country"
          class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-dark dark:text-gray-100 p-2 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"
        />
      </div>
    </div>

    <!-- Boutons -->
    <div class="mt-10 text-center">
      <button
        type="submit"
        class="bg-primary hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-xl shadow-md transition"
      >
        Enregistrer
      </button>

      <button
        type="button"
        (click)="logout()"
        class="ml-4 bg-red-500 hover:bg-red-600 text-white py-2 px-6 rounded-xl shadow-md transition"
      >
        Se déconnecter
      </button>
    </div>
  </form>
  } @else {
  <div class="text-center">Chargement du profil...</div>
  }
</div>
